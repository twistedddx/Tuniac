How to build Tuniac:


This is written with Visual Studio 2010 in mind in March 2012.
Things may have changed since, use this only as a guide.

For me:

Tuniac 1 svn is in D:\Code\tuniac\Tuniac1
libjpeg-turbo svn is in D:\Code\libjpeg-turbo
Taglib git is in D:\Code\taglib
You can put things where you like, you just need to adjust your folder paths accordingly.




1)First install Visual Studio 2010.

1a)You should update your Platform SDK if needed.

Platform SDK 7.1:
http://www.microsoft.com/downloads/en/details.aspx?FamilyID=6b6c21d2-2006-4afa-9702-529fa782d63b


1b)If you have Visual Studio 2010 Express you will need the Windows Platform SDK as it's not included.
Dot point 2 of the below link may also need to be done for Express.
http://msdn.microsoft.com/en-us/library/ms235626%28VS.80%29.aspx

Look here for errors that look like:
cannot open include file 'winres.h'



2)For tuniac, taglib and libjpeg-turbo you require TortoiseSVN, TortoiseGIT and CMake

http://tortoisesvn.net/
http://tortoisesvn.net/downloads.html

http://code.google.com/p/tortoisegit/
http://code.google.com/p/tortoisegit/downloads/list

http://www.cmake.org/
http://www.cmake.org/files/v2.8/cmake-2.8.7-win32-x86.exe

Install them

2a)You need Tuniac svn (http://sourceforge.net/projects/tuniac/)
Navigate to C:\Code\, right click and select SVN Checkout.
In URL of repository add:
https://tuniac.svn.sourceforge.net/svnroot/tuniac
Hit OK and wait

2b)You need libjpeg-turbo svn (http://sourceforge.net/projects/libjpeg-turbo/)
Navigate to C:\Code\, right click and select SVN Checkout.
In URL of repository add:
https://libjpeg-turbo.svn.sourceforge.net/svnroot/libjpeg-turbo
Hit OK and wait

2c)You need TagLib svn (http://developer.kde.org/~wheeler/taglib.html)
Navigate to C:\Code\, right click and select GIT Clone.
In Clone existing repository add:
https://github.com/taglib/taglib
Hit OK and wait



3)For the 32bit Sonique Visual Plugin visual (SVP_Plugin)

You need the Glew 1.7.0 Binaries Windows 32 zip.
http://glew.sourceforge.net/
http://sourceforge.net/projects/glew/files/glew/1.7.0/glew-1.7.0-win32.zip/download

Put glew.h, glxew.h and wglew.h in
C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\include\GL
And put glew32.lib and glew32s.lib in
C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\lib

Look here for errors that look like:
Cannot open include file: 'GL/glew.h'



4)For TuniacApp

4a)You need the current DirectX June 2010 SDK for XAudio2.
http://www.microsoft.com/downloads/en/details.aspx?displaylang=en&FamilyID=3021d52b-514e-41d3-ad02-438a3ba730ba

Look here for errors that look like:
Cannot open include file: 'xaudio2.h'


4b)Build libjpeg-turbo lib

You can use my files if you cant get it to build right:
http://www.wasteofcash.com/Tuniac/libjpeg-turbo_1.2.0_vs2010.zip

Open a command prompt(CMD)
Navigate to D:\Code\libjpeg-turbo\trunk (cd D:\Code\libjpeg-turbo\trunk)
I find it easiest to copy/paste cmd in to D:\Code\libjpeg-turbo\trunk so that when CMD starts it is already in the correct folder.
Use these build recipes:

For x86:
del ".\CMakeCache.txt"
"C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\bin\vcvars32.bat"
"C:\Program Files\Microsoft SDKs\Windows\v7.1\Bin\SetEnv.cmd" /Release /x86 /win7
"C:\Program Files (x86)\CMake 2.8\bin\cmake" -G "NMake Makefiles" -DCMAKE_BUILD_TYPE=Release -DWITH_JPEG8=1 .
nmake clean
nmake
del ".\turbojpeg-static32.lib"
rename turbojpeg-static.lib turbojpeg-static32.lib

For x64:
del ".\CMakeCache.txt"
"C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\bin\x86_amd64\vcvarsx86_amd64.bat"
"C:\Program Files\Microsoft SDKs\Windows\v7.1\Bin\SetEnv.cmd" /Release /x64 /win7
"C:\Program Files (x86)\CMake 2.8\bin\cmake" -G "NMake Makefiles" -DCMAKE_BUILD_TYPE=Release -DWITH_JPEG8=1 .
nmake clean
nmake
del "turbojpeg-static64.lib"
rename turbojpeg-static.lib turbojpeg-static64.lib

Look here for errors that look like:
Cannot open include file: 'jpeglib.h'



5)For std_Infomanager

You can use my project if you cant get it to build right:
http://www.wasteofcash.com/Tuniac/taglib_1.7_vs2010.zip

Open a command prompt(CMD)
Navigate to D:\Code\libjpeg-turbo\trunk (cd D:\Code\taglib)
I find it easiest to copy/paste cmd in to D:\Code\taglib so that when CMD starts it is already in the correct folder.
Use these build recipes:

Release
For x86:
del ".\CMakeCache.txt"
"C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\bin\vcvars32.bat"
"C:\Program Files\Microsoft SDKs\Windows\v7.1\Bin\SetEnv.cmd" /Release /x86 /win7
"C:\Program Files (x86)\CMake 2.8\bin\cmake" -G "NMake Makefiles" -DCMAKE_BUILD_TYPE=Release -DENABLE_STATIC=1 -DWITH_MP4=1 -DWITH_MP4=1 .
nmake clean
nmake
del .\taglib\tag-static32.lib
rename .\taglib\tag.lib tag-static32.lib

For x64:
del ".\CMakeCache.txt"
"C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\bin\x86_amd64\vcvarsx86_amd64.bat"
"C:\Program Files\Microsoft SDKs\Windows\v7.1\Bin\SetEnv.cmd" /Release /x64 /win7
"C:\Program Files (x86)\CMake 2.8\bin\cmake" -G "NMake Makefiles" -DCMAKE_BUILD_TYPE=Release -DENABLE_STATIC=1 -DWITH_MP4=1 -DWITH_MP4=1 .
nmake clean
nmake
del .\taglib\tag-static64.lib
rename .\taglib\tag.lib tag-static64.lib

Debug
For x86:
del ".\CMakeCache.txt"
"C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\bin\vcvars32.bat"
"C:\Program Files\Microsoft SDKs\Windows\v7.1\Bin\SetEnv.cmd" /Debug /x86 /win7
"C:\Program Files (x86)\CMake 2.8\bin\cmake" -G "NMake Makefiles" -DCMAKE_BUILD_TYPE=Debug -DENABLE_STATIC=1 -DWITH_MP4=1 -DWITH_MP4=1 .
nmake clean
nmake
del .\taglib\tag-static32d.lib
rename .\taglib\tag.lib tag-static32d.lib

For x64:
del ".\CMakeCache.txt"
"C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\bin\x86_amd64\vcvarsx86_amd64.bat"
"C:\Program Files\Microsoft SDKs\Windows\v7.1\Bin\SetEnv.cmd" /Debug /x64 /win7
"C:\Program Files (x86)\CMake 2.8\bin\cmake" -G "NMake Makefiles" -DCMAKE_BUILD_TYPE=Debug -DENABLE_STATIC=1 -DWITH_MP4=1 -DWITH_MP4=1 .
nmake clean
nmake
del .\taglib\tag-static64d.lib
rename .\taglib\tag.lib tag-static64d.lib

Look here for errors that look like:
Cannot open include file: 'tag.h'



6)To build installer from scripts

You need Inno QuickStart Pack
http://www.jrsoftware.org/isinfo.php
http://www.jrsoftware.org/download.php/ispack.exe

Install everything it offers in the installer.

I find it easiest to then install the standard Inno Setup installer over the top of that
http://www.jrsoftware.org/download.php/is.exe

This adds the right click context "Compile" for *.iss files

Goto D:\Tuniac\Tuniac1\Setup-Scripts
Right click desired setup iss file
Select Compile
New date named exe should be in D:\Tuniac\Tuniac1